$(document).ready(function(){function e(e){for(arr=[],i=1;i<13;i++)e[i.toFixed(1)]?arr.push(e[i.toFixed(1)]):arr.push(0);return arr}function r(){"chests"===$("meta[name=psj]").attr("controller")&&(o(n),a(n))}function o(r){guides_history=e(r.guides),explores_history=e(r.explores);const o=document.getElementById("myChart");if(o){const e=o.getContext("2d");o.height=80,new Chart(e,{type:"line",data:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Guides",backgroundColor:"rgba(237, 231, 246, 0.5)",borderColor:"#673ab7",pointBackgroundColor:"#512da8",borderWidth:2,data:guides_history},{label:"Explores",backgroundColor:"rgba(232, 245, 233, 0.5)",borderColor:"#4caf50",pointBackgroundColor:"#388e3c",borderWidth:2,data:explores_history}]},options:{legend:{display:!1}}})}}function a(e){var r={};for(i=0;i<e.region_values.length;i++)x=e.region_values[i],r[Object.keys(x)[0]]=x[Object.keys(x)[0]];$("#world-map-marker").length>0&&($("#vmap").remove(),$("#world-map-marker").append('\n        <div\n          id="vmap"\n          style="\n            height: 490px;\n            position: relative;\n            overflow: hidden;\n            background-color: transparent;\n          "\n        >\n        </div>\n      '),$("#vmap").vectorMap({map:"world_mill",backgroundColor:"#fff",borderColor:"#fff",borderOpacity:.25,borderWidth:0,color:"#e6e6e6",regionStyle:{initial:{fill:"#e4ecef"}},markerStyle:{initial:{r:7,fill:"#fff","fill-opacity":1,stroke:"#000","stroke-width":1,"stroke-opacity":.4}},markers:e.markers,series:{regions:[{values:r,scale:["#03a9f3","#02a7f1"],normalizeFunction:"polynomial"}]},hoverOpacity:null,normalizeFunction:"linear",zoomOnScroll:!1,scaleColors:["#b6d6ff","#005ace"],selectedColor:"#c9dfaf",selectedRegions:[],enableZoom:!1,hoverColor:"#fff"}))}function t(e,r,o){var a;return function(){var t=this,n=arguments,i=function(){a=null,o||e.apply(t,n)},l=o&&!a;clearTimeout(a),a=setTimeout(i,r),l&&e.apply(t,n)}}var n,l=t(r,250);$(document).on("turbolinks:load",l),l(),$.ajax({type:"GET",url:"/chests.json",success(e){n=e},async:!1})});